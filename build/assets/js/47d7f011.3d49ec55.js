(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{76:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return a})),t.d(n,"toc",(function(){return c})),t.d(n,"default",(function(){return u}));var r=t(3),i=t(7),p=(t(0),t(90)),o={title:"\u89e3\u8bfb greet \u63a5\u53e3"},a={unversionedId:"\u89e3\u8bfbgreet\u63a5\u53e3",id:"\u89e3\u8bfbgreet\u63a5\u53e3",isDocsHomePage:!1,title:"\u89e3\u8bfb greet \u63a5\u53e3",description:"\u5728 farrow-next-react \u9879\u76ee\u6a21\u677f\u4e2d\uff0c\u5df2\u7ecf\u5305\u542b\u4e86\u7b80\u5355\u7684\u793a\u4f8b\u4ee3\u7801\uff0c\u73b0\u5728\u8ba9\u6211\u4eec\u6765\u89e3\u8bfb\u4e00\u4e0b\u5b83\u4eec\u3002",source:"@site/docs/\u89e3\u8bfbgreet\u63a5\u53e3.md",slug:"/\u89e3\u8bfbgreet\u63a5\u53e3",permalink:"/farrow-docs/build/docs/\u89e3\u8bfbgreet\u63a5\u53e3",editUrl:"https://github.com/Lucifier129/farrow-docs/docs/\u89e3\u8bfbgreet\u63a5\u53e3.md",version:"current",sidebar:"docs",previous:{title:"\u5b89\u88c5\u4e0e\u521b\u5efa\u9879\u76ee",permalink:"/farrow-docs/build/docs/\u5b89\u88c5\u4e0e\u521b\u5efa\u9879\u76ee"}},c=[],s={toc:c};function u(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(p.b)("wrapper",Object(r.a)({},s,t,{components:n,mdxType:"MDXLayout"}),Object(p.b)("p",null,"\u5728 ",Object(p.b)("inlineCode",{parentName:"p"},"farrow-next-react")," \u9879\u76ee\u6a21\u677f\u4e2d\uff0c\u5df2\u7ecf\u5305\u542b\u4e86\u7b80\u5355\u7684\u793a\u4f8b\u4ee3\u7801\uff0c\u73b0\u5728\u8ba9\u6211\u4eec\u6765\u89e3\u8bfb\u4e00\u4e0b\u5b83\u4eec\u3002"),Object(p.b)("p",null,"\u9996\u5148\u6765\u770b ",Object(p.b)("inlineCode",{parentName:"p"},"server/api/greet.ts")," \u6587\u4ef6"),Object(p.b)("pre",null,Object(p.b)("code",{parentName:"pre",className:"language-typescript"},'// server/api.greet.ts\n\n// \u5f15\u5165 farrow-api \u53bb\u5b9a\u4e49\u4e00\u4e2a\u4e2a api\nimport { Api } from "farrow-api";\n\n// \u5f15\u5165 farrow-api-server \u53bb\u5305\u542b\u4e00\u7ec4 api \u4e3a\u4e00\u4e2a serivce router\nimport { ApiService } from "farrow-api-server";\n\n// \u5f15\u5165 farrow-schema \u53bb\u5b9a\u4e49 api \u7684\u7c7b\u578b\u7ed3\u6784\nimport { ObjectType, Type } from "farrow-schema";\n\n/**\n * \u901a\u8fc7 ObjectType \u5b9a\u4e49 greet api \u7684 input \u7c7b\u578b\n * \u6b64\u5904\u6f14\u793a\u4e86\u6700\u7b80\u5355\u7684\u65b9\u5f0f\uff0c\u4e0d\u5305\u542b\u5b57\u6bb5\u7684\u63cf\u8ff0\n */\nexport class GreetInput extends ObjectType {\n  name = String;\n}\n\n/**\n * \u901a\u8fc7 ObjectType \u5b9a\u4e49 greet api \u7684 output \u7c7b\u578b\n * \u6b64\u5904\u91c7\u7528\u4e86\u5e26 description \u5b57\u6bb5\u63cf\u8ff0\u7684\u7ed3\u6784\n * \u6b64\u65f6\u5b57\u6bb5\u7684\u7c7b\u578b\u9700\u8981\u914d\u7f6e\u5728 [Type] \u5c5e\u6027\u4e2d\n */\nexport class GreetOutput extends ObjectType {\n  greet = {\n    description: "The greeting came from server",\n    [Type]: String,\n  };\n}\n\n/**\n * \u6839\u636e input schema \u548c ouput schema\n * \u901a\u8fc7 Api \u51fd\u6570\u521b\u5efa greet api\n * \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a greet api \u7684\u4ee3\u7801\u5b9e\u73b0\n * farrow-api \u4f1a\u7ea6\u675f greet api \u7684 input \u548c ouput \u5fc5\u987b\u6ee1\u8db3\u6307\u5b9a\u7c7b\u578b\n */\nexport const greet = Api(\n  {\n    description: "Greeting",\n    input: GreetInput,\n    output: GreetOutput,\n  },\n  (input) => {\n    let greet = `Hello ${input.name}!`;\n    return { greet };\n  }\n);\n\n/**\n * \u5c06\u591a\u4e2a api \u653e\u5230 entries \u5bf9\u8c61\u4e2d\n * \u5e76\u901a\u8fc7 ApiService \u6253\u5305\u6210\u4e00\u4e2a service router\n */\nexport const service = ApiService({\n  entries: {\n    greet,\n  },\n});\n')))}u.isMDXComponent=!0}}]);